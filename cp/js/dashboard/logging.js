!function(){var n=["message_events","member_events","role_events","channel_events","emoji_events","voice_events","server_events"],t=$(".channel_select"),e=window.location.pathname.split("/")[2];window.DiscordAPIHandler.getChannels(e,{channelType:"GuildText"}).then(e=>{e=e.data.map(e=>({id:e.id,text:e.name,value:e.id}));t.append('<option value="0" selected>None</option>'),e.forEach(e=>{t.append(`<option value="${e.value}">${e.text}</option>`)})}).catch(e=>{window.NotificationHandler.show({content:"An error occured while fetching the text channels.",type:"danger"})}),$.ajax({url:`/dashboard/${window.location.pathname.split("/")[2]}/${window.location.pathname.split("/")[3]}/data`,method:"GET",contentType:"application/json",success:e=>{var t=e.data;n.forEach(n=>{Object.keys(t[n]).forEach(e=>{"channel"==e?$(`#${n}_logchannel`).val(t[n][e]).trigger("change"):"toggle"==e?$(`#${n}_toggle`).prop("checked",t[n][e]):"color"==e?$(`#${n}_color`).val(t[n][e]):$(`#${n}_`+e).prop("checked",t[n][e])})})},error:e=>{window.NotificationHandler.show({content:"An error occured while fetching the logging settings.",type:"danger"})}})}();